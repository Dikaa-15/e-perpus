<!-- Hero Section with Library Background -->
<div class="relative bg-gradient-to-r from-blue-800 to-blue-600 text-white py-20 mb-12 rounded-lg shadow-xl overflow-hidden">
    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.1\" fill-rule=\"evenodd\"%3E%3Ccircle cx=\"3\" cy=\"3\" r=\"3\"/%3E%3Ccircle cx=\"13\" cy=\"13\" r=\"3\"/%3E%3C/g%3E%3C/svg%3E')] opacity-20"></div>
    <div class="container mx-auto px-6">
        <div class="text-center relative z-10">
            <h1 class="text-5xl md:text-7xl font-serif font-bold mb-8 animate-fade-in">E-Perpustakaan</h1>
            
            <!-- Glassmorphism Typing Animation -->
            <div class="glassmorphism-hero max-w-2xl mx-auto p-6 rounded-xl backdrop-blur-md bg-white/10 border border-white/20 mb-10">
                <div id="typing-text" class="text-xl md:text-2xl text-blue-100 font-light h-8 min-h-[2rem] flex items-center justify-center"></div>
            </div>
            
            <% if (!user) { %>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <a href="/auth/register" class="bg-white text-blue-800 hover:bg-blue-50 px-8 py-4 rounded-lg font-semibold transition-all duration-300 inline-block hover:shadow-lg transform hover:-translate-y-1">
                        <i class="fas fa-user-plus mr-2"></i> Daftar Sekarang
                    </a>
                    <a href="/auth/login" class="border-2 border-white text-white hover:bg-white hover:text-blue-800 px-8 py-4 rounded-lg font-semibold transition-all duration-300 inline-block hover:shadow-lg transform hover:-translate-y-1">
                        <i class="fas fa-sign-in-alt mr-2"></i> Masuk
                    </a>
                </div>
            <% } else { %>
                <div class="glassmorphism-welcome max-w-lg mx-auto p-8 rounded-xl backdrop-blur-md bg-white/10 border border-white/20">
                    <div class="flex items-center justify-center space-x-4">
                        <div class="bg-white/20 rounded-full py-1 px-2">
                            <i class="fas fa-user-circle text-2xl text-white"></i>
                        </div>
                        <div class="text-left">
                            <p class="text-lg text-blue-100">Selamat datang kembali,</p>
                            <p class="text-2xl font-semibold text-white"><%= user.name %></p>
                        </div>
                    </div>
                </div>
            <% } %>
        </div>
    </div>
</div>

<!-- Search Section -->
<div class="bg-white rounded-xl shadow-lg p-6 mb-12">
    <div class="max-w-4xl mx-auto">
        <div class="relative">
            <input type="text" placeholder="Cari buku, artikel, atau kategori..." 
                   class="w-full px-6 py-4 text-lg border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-300 pl-14">
            <i class="fas fa-search absolute left-5 top-1/2 transform -translate-y-1/2 text-blue-400 text-xl"></i>
        </div>
    </div>
</div>

<!-- Quick Stats with Book-themed Design -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
    <div class="bg-gradient-to-br from-blue-50 to-white rounded-xl shadow-lg p-8 border-l-8 border-blue-600 transform hover:scale-105 transition-all duration-300">
        <div class="flex items-center">
            <div class="bg-blue-100 w-20 h-20 rounded-lg flex items-center justify-center shadow-inner">
                <i class="fas fa-book-open text-3xl text-blue-600"></i>
            </div>
            <div class="ml-6">
                <h3 class="text-xl font-serif font-semibold text-gray-800 mb-2">Total Koleksi</h3>
                <p class="text-4xl font-bold text-blue-600">0</p>
            </div>
        </div>
    </div>
    
    <div class="bg-gradient-to-br from-blue-50 to-white rounded-xl shadow-lg p-8 border-l-8 border-blue-600 transform hover:scale-105 transition-all duration-300">
        <div class="flex items-center">
            <div class="bg-blue-100 w-20 h-20 rounded-lg flex items-center justify-center shadow-inner">
                <i class="fas fa-newspaper text-3xl text-blue-600"></i>
            </div>
            <div class="ml-6">
                <h3 class="text-xl font-serif font-semibold text-gray-800 mb-2">Artikel</h3>
                <p class="text-4xl font-bold text-blue-600">0</p>
            </div>
        </div>
    </div>
    
    <div class="bg-gradient-to-br from-blue-50 to-white rounded-xl shadow-lg p-8 border-l-8 border-blue-600 transform hover:scale-105 transition-all duration-300">
        <div class="flex items-center">
            <div class="bg-blue-100 w-20 h-20 rounded-lg flex items-center justify-center shadow-inner">
                <i class="fas fa-users text-3xl text-blue-600"></i>
            </div>
            <div class="ml-6">
                <h3 class="text-xl font-serif font-semibold text-gray-800 mb-2">Anggota</h3>
                <p class="text-4xl font-bold text-blue-600">0</p>
            </div>
        </div>
    </div>
</div>

<!-- Featured Books with Library Style -->
<div class="mb-16">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4">
        <h2 class="text-3xl font-serif font-bold text-gray-800 flex items-center">
            <span class="bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                <i class="fas fa-star text-blue-600"></i>
            </span>
            Koleksi Unggulan
        </h2>
        <a href="/books" class="text-blue-600 hover:text-blue-800 font-semibold transition duration-300 group flex items-center">
            Lihat Katalog Lengkap 
            <i class="fas fa-arrow-right ml-2 group-hover:translate-x-2 transition-transform"></i>
        </a>
    </div>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Placeholder Book Cards -->
        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300">
            <div class="h-48 bg-blue-100 flex items-center justify-center">
                <i class="fas fa-book text-5xl text-blue-300"></i>
            </div>
            <div class="p-6">
                <div class="text-xs text-blue-600 font-semibold mb-2">SEGERA HADIR</div>
                <h3 class="font-serif font-semibold text-gray-800 mb-2">Koleksi Buku Terbaru</h3>
                <p class="text-gray-600 text-sm">Koleksi buku-buku terbaik akan segera hadir untuk Anda.</p>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300">
            <div class="h-48 bg-blue-100 flex items-center justify-center">
                <i class="fas fa-book text-5xl text-blue-300"></i>
            </div>
            <div class="p-6">
                <div class="text-xs text-blue-600 font-semibold mb-2">SEGERA HADIR</div>
                <h3 class="font-serif font-semibold text-gray-800 mb-2">Koleksi Buku Populer</h3>
                <p class="text-gray-600 text-sm">Temukan buku-buku populer yang paling diminati.</p>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300">
            <div class="h-48 bg-blue-100 flex items-center justify-center">
                <i class="fas fa-book text-5xl text-blue-300"></i>
            </div>
            <div class="p-6">
                <div class="text-xs text-blue-600 font-semibold mb-2">SEGERA HADIR</div>
                <h3 class="font-serif font-semibold text-gray-800 mb-2">Buku Rekomendasi</h3>
                <p class="text-gray-600 text-sm">Rekomendasi buku pilihan dari perpustakaan.</p>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300">
            <div class="h-48 bg-blue-100 flex items-center justify-center">
                <i class="fas fa-book text-5xl text-blue-300"></i>
            </div>
            <div class="p-6">
                <div class="text-xs text-blue-600 font-semibold mb-2">SEGERA HADIR</div>
                <h3 class="font-serif font-semibold text-gray-800 mb-2">Buku Digital</h3>
                <p class="text-gray-600 text-sm">Akses koleksi buku digital kapan saja.</p>
            </div>
        </div>
    </div>
</div>

<!-- Categories Section -->
<div class="mb-16">
    <h2 class="text-3xl font-serif font-bold text-gray-800 mb-8 flex items-center">
        <span class="bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
            <i class="fas fa-th-large text-blue-600"></i>
        </span>
        Kategori Buku
    </h2>
    
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <a href="#" class="bg-white p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition-all duration-300 group">
            <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors">
                <i class="fas fa-history text-2xl text-blue-600"></i>
            </div>
            <h3 class="font-serif font-semibold text-gray-800">Sejarah</h3>
        </a>
        
        <a href="#" class="bg-white p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition-all duration-300 group">
            <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors">
                <i class="fas fa-flask text-2xl text-blue-600"></i>
            </div>
            <h3 class="font-serif font-semibold text-gray-800">Sains</h3>
        </a>
        
        <a href="#" class="bg-white p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition-all duration-300 group">
            <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors">
                <i class="fas fa-book text-2xl text-blue-600"></i>
            </div>
            <h3 class="font-serif font-semibold text-gray-800">Sastra</h3>
        </a>
        
        <a href="#" class="bg-white p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition-all duration-300 group">
            <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors">
                <i class="fas fa-calculator text-2xl text-blue-600"></i>
            </div>
            <h3 class="font-serif font-semibold text-gray-800">Matematika</h3>
        </a>
    </div>
</div>

<!-- Library Services -->
<div class="bg-gradient-to-br from-blue-50 via-white to-blue-50 rounded-xl shadow-xl p-12 mb-12">
    <h2 class="text-3xl font-serif font-bold text-gray-800 text-center mb-12 flex items-center justify-center">
        <span class="bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
            <i class="fas fa-concierge-bell text-blue-600"></i>
        </span>
        Layanan Perpustakaan
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="bg-white p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition-all duration-300">
            <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-book-reader text-2xl text-blue-600"></i>
            </div>
            <h3 class="font-serif font-semibold text-gray-800 mb-3">Peminjaman Digital</h3>
            <p class="text-gray-600">Pinjam dan baca buku secara digital kapan saja</p>
        </div>
        
        <div class="bg-white p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition-all duration-300">
            <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-bookmark text-2xl text-blue-600"></i>
            </div>
            <h3 class="font-serif font-semibold text-gray-800 mb-3">Bookmark</h3>
            <p class="text-gray-600">Simpan dan tandai buku favorit Anda</p>
        </div>
        
        <div class="bg-white p-6 rounded-xl shadow-lg text-center transform hover:scale-105 transition-all duration-300">
            <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-history text-2xl text-blue-600"></i>
            </div>
            <h3 class="font-serif font-semibold text-gray-800 mb-3">Riwayat Bacaan</h3>
            <p class="text-gray-600">Pantau aktivitas membaca Anda</p>
        </div>
    </div>
</div>

<style>
@keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
    animation: fade-in 1s ease-out;
}

.glassmorphism-hero {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    animation: glassmorphism-float 3s ease-in-out infinite;
}

.glassmorphism-welcome {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    animation: glassmorphism-float 3s ease-in-out infinite;
}

@keyframes glassmorphism-float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

@keyframes cursor-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.cursor::after {
    content: '|';
    animation: cursor-blink 1s infinite;
    margin-left: 2px;
    color: #dbeafe;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const typingText = document.getElementById('typing-text');
    
    const messages = [
        'Selamat Datang di Perpustakaan Digital',
        'Jelajahi Dunia Pengetahuan Melalui Koleksi Digital Kami',
        'Temukan Ribuan Buku dan Artikel Menarik',
        'Baca Dimana Saja, Kapan Saja'
    ];

    function typeWriter(element, text, i, callback) {
        if (i < text.length) {
            element.classList.add('cursor');
            element.innerHTML = text.substring(0, i + 1);
            setTimeout(() => typeWriter(element, text, i + 1, callback), 100);
        } else {
            setTimeout(() => {
                element.classList.remove('cursor');
                if (callback) setTimeout(callback, 2000);
            }, 1500);
        }
    }

    function eraseText(element, callback) {
        let text = element.innerHTML;
        let i = text.length;
        
        function erase() {
            if (i > 0) {
                element.classList.add('cursor');
                element.innerHTML = text.substring(0, i - 1);
                i--;
                setTimeout(erase, 50);
            } else {
                element.classList.remove('cursor');
                if (callback) setTimeout(callback, 500);
            }
        }
        setTimeout(erase, 1500);
    }

    let messageIndex = 0;

    function animateTypingText() {
        typeWriter(typingText, messages[messageIndex], 0, () => {
            eraseText(typingText, () => {
                messageIndex = (messageIndex + 1) % messages.length;
                animateTypingText();
            });
        });
    }

    // Start the animation
    animateTypingText();
});
</script>
